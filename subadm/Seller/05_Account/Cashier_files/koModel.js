typeof TeG=="undefined"&&(TeG={});TeG.KO={};ko.extenders.required=function(n,t){function i(i){(t.isValidationNeeded==undefined||typeof t.isValidationNeeded!="function"||t.isValidationNeeded())&&(n.hasError(i?!1:!0),n.validationMessage(i?"":e||"This field is required"))}n.hasError=ko.observable();n.validationMessage=ko.observable();var r=TeG.Translations.ValidatePleaseInsertYourLabel,u=t.fieldElement.attr("name"),f=$('[for="'+u+'"]').html(),e=r.replace("%%field_label%%",f);return i(n()),n.subscribe(i),n};ko.extenders.regexValidator=function(n,t){function i(i){var r=new RegExp(t.regEx);(t.isValidationNeeded==undefined||typeof t.isValidationNeeded!="function"||t.isValidationNeeded())&&(r.test(i)||i==""||(n.hasError(!0),n.validationMessage(e||"This field is required")))}n.hasError=ko.observable();n.validationMessage=ko.observable();var r=TeG.Translations.ValidateInsertFieldInCorrectFormat,u=t.fieldElement.attr("name"),f=$('[for="'+u+'"]').html(),e=r.replace("%%field_label%%",f);return i(n()),n.subscribe(i),n};TeG.KO.ProtoObject={activate:function(n){ko.dataFor(n)||ko.applyBindings(this,n);for(label in this.labels)this.initTitleData[label].label=this.labels[label]},labels:{},initTitleData:{summaryTitle$visible:!0,reportTitle:"",showProfitFor:{visible:!1,label:"",value:""},timeGrouping:{visible:!1,label:"",value:""},gameType:{visible:!1,label:"",value:""},timeGroupingPeriod:{visible:!1,label:"",value:""},customerType:{visible:!1,label:"",value:""},fromDate:{visible:!1,label:"",value:""},toDate:{visible:!1,label:"",value:""},groupingType:{visible:!1,label:"",value:""},transactionType:{visible:!1,label:"",value:""},timezoneType:{visible:!1,label:"",value:""},selectSubordinates:{visible:!1,label:"",value:[{name:""}]},selectMA:{visible:!1,label:"",value:[{name:""}]},selectA:{visible:!1,label:"",value:[{name:""}]},gameClientType:{visible:!1,label:"",value:""},currencyType:{visible:!1,label:"",value:""},playCheckParameter:{visible:!1,label:"",value:""},playCheckParameterMA:{visible:!1,label:"",value:""},masterAgentCurrency:{visible:!1,label:"",value:""},gameCategoryIdArray:{visible:!1,label:"",value:[{name:""}]},gameIdArray:{visible:!1,label:"",value:""}},titleData:{},init_label:function(){for(label in this.labels)this.titleData[label].label=this.labels[label]},storeTitle:function(n){this.titleData.reportTitle=n;sessionStorage.setItem("printReportTitle",JSON.stringify(this.titleData))},getAjaxData:function(n,t,i){tegPopups.showDaisyWheelTotalHover();$.ajax({url:t,type:"POST",that:this,data:JSON.stringify(n),contentType:"application/json; charset=utf-8",error:function(n){tegPopups.closeTotalHover();tegErrorHandler.processError(n,TeG.Translations.PopupError)}}).done(function(n){typeof i=="function"&&i(n,this.that);tegPopups.closeTotalHover();splitterResize()})},registerValidator:[],activateValidation:function(){for(var n=0;n<this.registerValidator.length;n++)if(typeof this.registerValidator[n]=="function")try{this.registerValidator[n]()}catch(t){if(t.message==TeG.KOValidate.ERROR_MESSAGE)break;else throw t;}}};TeG.KO.SearchPrototype=function(){var t=10,n={};this.displayRequest=ko.observable(!0);this.displayHeadRequest=function(){this.displayRequest(!this.displayRequest())};this.loading$class=ko.observable(!1);this.reportData$visible=ko.observable(!1);this.summaryData$visible=ko.observable(!1);this.gridData$visible=ko.observable(!1);this.titleNoData$visible=ko.observable(!1);this.gridShow=function(){var n=this.getSearchParameter();n.isBtnClicked&&n.isDataReceived&&n.isSummaryReceived&&!n.isError&&(tegPopups.closeTotalHover(),this.loading$class(!1),this.reportData$visible(!0),this.summaryData$visible()&&this.gridData$visible()?(TeG.Reports().EnableToolBar(),this.titleNoData$visible(!1)):(this.summaryData$visible(!1),this.gridData$visible(!1),this.titleNoData$visible(!0),TeG.Reports().DisableToolBar()),this.getSearchParameter().row>t&&this.displayRequest(!1),n={})};this.getSearchParameter=function(){return n};this.searchStart=function(){n={row:0,isBtnClicked:!0,isSummaryReceived:!1,isDataReceived:!1,isError:!1};this.reportData$visible(!1);this.summaryData$visible(!1);this.gridData$visible(!1);this.loading$class(!0)}};TeG.KO.SearchPrototype.prototype=TeG.KO.ProtoObject;TeG.KO.SearchPrototype.constructor.prototype=TeG.KO.SearchPrototype;TeG.KO.DatePrototype={monthDiff:function(n,t){var i;return i=(t.getFullYear()-n.getFullYear())*12,i-=n.getMonth()+1,i+=t.getMonth(),i<=0?0:i},daysDiff:function(n,t){var i=n.getTime(),r=t.getTime(),u=Math.abs(i-r);return Math.round(u/864e5)},convertReportDateTime:function(n,t,i,r,u,f){var e;return/^\d{1}$/.test(t)&&(t="0"+t),/^\d{1}$/.test(i)&&(i="0"+i),/^\d{1}$/.test(r)&&(r="0"+r),/^\d{1}$/.test(u)&&(u="0"+u),f?n+"-"+t+"-"+i+"T"+r+":"+u+":"+f:n+"-"+t+"-"+i+"T"+r+":"+u+":00.000"},getFromDate:function(){return this.getRepoDay(this.fromDate(),0,0,0)},getToDate:function(){var n;return/^\d{2}-\d{4}$/.test(this.toDate())?(n=new Date(this.getRepoDay("01-"+this.toDate(),23,59,59.999)),n.setMonth(n.getMonth()+1),n.setMinutes(n.getMinutes()-1440+n.getTimezoneOffset()),n=this.getDateInp(n),this.getRepoDay(n,23,59,59.999)):this.getRepoDay(this.toDate(),23,59,59.999)},getRepoDay:function(n,t,i,r){var u=n.split("-");return u.length==2?self.convertReportDateTime(u[1],u[0],1,t,i,r):u.length==3?self.convertReportDateTime(u[2],u[1],u[0],t,i,r):void 0},getFirstDayCurrentMonthDate:function(){var t=new Date,i=t.getFullYear(),n=t.getMonth()+1;return n<10&&(n="0"+n),"01-"+n+"-"+i},getLastDayOfMonth:function(n){return new Date(n.getFullYear(),n.getMonth()+1,0).getDate()},getCurrentDate:function(){return this.getDateInp(new Date)},getDateInp:function(n){var r=n.getFullYear(),i=n.getMonth()+1,t;return i<10&&(i="0"+i),t=n.getDate(),t<10&&(t="0"+t),t+"-"+i+"-"+r},fromDate:ko.observable(""),fromDateError:ko.observable(""),fromDateError$visible:ko.observable(!1),fromDateError$css:ko.observable(!1),toDate:ko.observable(""),toDateError:ko.observable(""),toDateError$visible:ko.observable(!1),toDateError$css:ko.observable(!1)};TeG.KO.FromDateToDateWithTime=function(){var n=this;n.noTime=!1;n.getHourOption=function(){for(var t=[],n=0;n<=23;n++)optionText=n<10?"0"+n+"h":n.toString()+"h",t.push({optionValue:n,optionText:optionText});return t};n.getMinuteOption=function(){for(var t=[],n=0;n<=59;n++)optionText=n<10?"0"+n+"m":n.toString()+"m",t.push({optionValue:n,optionText:optionText});return t};n.fromHour=ko.observableArray(n.getHourOption());n.fromDateHour=ko.observable(0);n.fromMinute=ko.observableArray(n.getMinuteOption());n.fromDateMinute=ko.observable(0);n.toHour=ko.observableArray(n.getHourOption());n.toDateHour=ko.observable(23);n.toMinute=ko.observableArray(n.getMinuteOption());n.toDateMinute=ko.observable(59);n.dateTime$visible=ko.observable(!0);n.dateTimeFixed$visible=ko.observable(!1);n.getFromDate=function(){var t=n.fromDate().split("-");return t.length==2&&(t=["01",t[0],t[1]]),n.dateTime$visible()?n.convertReportDateTime(t[2],t[1],t[0],n.fromDateHour(),n.fromDateMinute()):n.convertReportDateTime(t[2],t[1],t[0],0,0)};n.getToDate=function(){var t=n.toDate().split("-");return t.length===2&&(t=[new Date(t[1],t[0],0).getDate().toString(),t[0],t[1]]),n.dateTime$visible()?n.convertReportDateTime(t[2],t[1],t[0],n.toDateHour(),n.toDateMinute()):n.convertReportDateTime(t[2],t[1],t[0],23,59,59.999)};n.getFromDateInput=function(){return n.fromDate().toString()};n.cleanError=function(){TeG.KOValidate.disableError(n.fromDateErrorData);TeG.KOValidate.disableError(n.toDateErrorData)};n.fromDateErrorData={visible:n.fromDateError$visible,css:n.fromDateError$css,text:n.fromDateError};n.fromDate.validateFn=[];n.fromDate$blur=function(){n.cleanError();for(var t=0;t<n.fromDate.validateFn.length;t++)if(typeof n.fromDate.validateFn[t]=="function")try{n.fromDate.validateFn[t].call(n)}catch(i){if(i==TeG.KOValidate.ERROR_MESSAGE)break}};n.fromDate$focus=function(){TeG.KOValidate.disableError(n.fromDateErrorData)};n.toDateErrorData={visible:n.toDateError$visible,css:n.toDateError$css,text:n.toDateError};n.toDate.validateFn=[];n.toDate$blur=function(){n.cleanError();for(var t=0;t<n.toDate.validateFn.length;t++)if(typeof n.toDate.validateFn[t]=="function")try{n.toDate.validateFn[t].call(n)}catch(i){if(i==TeG.KOValidate.ERROR_MESSAGE)break}};n.validate=function(){n.toDate$blur();n.fromDate$blur()};n.toDate$focus=function(){TeG.KOValidate.disableError(n.toDateErrorData)}};TeG.KO.FromDateToDateWithTime.prototype=TeG.KO.DatePrototype;TeG.KO.FromDateToDateWithTime.constructor.prototype=TeG.KO.FromDateToDateWithTime;TeG.KO.FromDateToDate=function(){var n=this;n.noTime=!0;n.dateTimeFixed$visible=!1;n.dateTime$visible(!1);n.fromDateMinute=0;n.fromMinute={optionValue:"",optionText:""};n.toDateMinute=0;n.toMinute={optionValue:"",optionText:""};n.fromDate(n.getFirstDayCurrentMonthDate());n.toDate(n.getCurrentDate())};TeG.KO.FromDateToDate.prototype=new TeG.KO.FromDateToDateWithTime;TeG.KO.FromDateToDate.constructor.prototype=TeG.KO.FromDateToDate;TeG.KO.DatePickerPrototype={constructor:TeG.KO.DatePicker,options:{},datePicker:null,calendar:null,activate:function(n){n||(n={});var t=this.id;n.change=function(){var n=this._oldText;reportViewModel.date[t](n);$("#"+t).blur()};this.datePicker=$("#"+this.id).kendoDatePicker(n).data("kendoDatePicker");this.options=n},getDatePicker:function(){return this.datePicker},setOptions:function(n){this.options=n;this.datePicker.setOptions(n)},getOption:function(n){return this.datePicker.options[n]},destroy:function(){this.datePicker.destroy()}};TeG.KO.DatePicker=function(n){this.id=n};TeG.KO.DatePicker.prototype=TeG.KO.DatePickerPrototype;TeG.KO.DatePickerMonthDayPrototype={constructor:TeG.KO.DatePickerMonthDay,switchDayMonth:function(){if(this.timeGrouping()=="Day"){var n=this._setToDay().currentVal;this.toPicker.setOptions({value:n,format:"dd-MM-yyyy",start:"month",depth:"month"});this.fromPicker.setOptions({format:"dd-MM-yyyy",start:"month",depth:"month"})}else this._setToMonth(),this.toPicker.setOptions({value:new Date(this.date.getToDate()),format:"MM-yyyy",depth:"year",start:"year"}),this.toPicker.getDatePicker().value(moment(this.toPicker.getDatePicker().options.value).add("month",1).date(0).toDate()),this.fromPicker.setOptions({value:new Date(this.date.getFromDate()),format:"MM-yyyy",depth:"year",start:"year"}),this.fromPicker.getDatePicker().value(moment(this.fromPicker.getDatePicker().options.value).date(1).toDate());$("#fromDate").unbind("blur.mask");$("#fromDate").unbind("focus.mask");$("#toDate").unbind("blur.mask");$("#toDate").unbind("focus.mask")},_setToDay:function(){var t,n,i;return this.date.fromDateError$visible()&&TeG.KOValidate.disableError(this.date.fromDateErrorData),this.date.fromDate(this.date.getCurrentDate().replace(/^(\d{2})/,"01")),this.date.toDateError$visible()&&TeG.KOValidate.disableError(this.date.toDateErrorData),this.date.toDate(this.date.getCurrentDate()),t=fromDate,n=new Date(fromDate),n.setDate(n.getDate()+62),i=new Date(this.date.getToDate()),{currentVal:i,minDate:t,maxDate:n}},_setToMonth:function(){this.date.fromDateError$visible()&&TeG.KOValidate.disableError(this.date.fromDateErrorData);this.date.toDateError$visible()&&TeG.KOValidate.disableError(this.date.toDateErrorData)}};TeG.KO.DatePickerMonthDay=function(n,t){if(typeof n=="function")this.timeGrouping=n;else if(typeof n=="string")this.timeGrouping=ko.observable(n);else throw new Error("Incorrect type of timeGrouping");this.date=t;this.fromPicker=new TeG.KO.DatePicker("fromDate");this.fromPicker.activate({format:"dd-MM-yyyy"});this.toPicker=new TeG.KO.DatePicker("toDate");this.toPicker.activate({format:"dd-MM-yyyy"});this.timeGrouping.subscribe(function(){this.switchDayMonth()},this);this.switchDayMonth();this.getFromDateFromDatePicker=function(){return moment(this.fromPicker.getDatePicker().value()).format("YYYY-MM-DDTHH:mm:ss.SSS")};this.getToDateFromDatePicker=function(){return moment(this.toPicker.getDatePicker().value()).format("YYYY-MM-DDTHH:mm:ss.SSS")}};TeG.KO.DatePickerMonthDay.prototype=TeG.KO.DatePickerMonthDayPrototype;TeG.KO.MultiSelect=function(n){function r(n,t,i){i.selected(!i.selected())}function u(n,t,i){var o=i.selected(),u=n.peek(),f,e,r;if(o)for(r=t;u[r];)u[r].selected(!1),r++;else{for(i.selected(!0),f=!1,r=t;r>0;)if(r--,u[r].selected()){f=!0;break}if(f)for(r=t-1;!u[r].selected();)u[r].selected(!0),r--;else{for(e=!1,r=t+1;r<u.length;){if(u[r].selected()){e=!0;break}r++}if(e)for(r=t+1;!u[r].selected();)u[r].selected(!0),r++}}}function f(n){if(n==0&&this.element_arr.peek()[0].selected())for(var t=1;t<this.element_arr.peek().length;t++)this.element_arr.peek()[t].selected(!1);else n!=0&&this.element_arr.peek()[0].selected(n)&&this.element_arr.peek()[0].selected()&&this.element_arr.peek()[0].selected(!1)}function e(n,t,i){for(var r=0;r<n.peek().length;r++)n.peek()[r].selected(!1);i.selected(!0)}var i=this,t;this.allBehaivor=!1;this.element_arr=ko.observableArray();for(t in n)this.element_arr.push({key:ko.observable(n[t].key),value:ko.observable(n[t].value),selected:ko.observable(n[t].selected)});this.setElements=function(n){this.element_arr.removeAll();for(var t in n)this.element_arr.push({key:ko.observable(n[t].key),value:ko.observable(n[t].value),selected:ko.observable(n[t].selected)})};this.getSelectedArray=function(){var t,n;if(this.element_arr.peek()[0].selected())return[];for(t=[],n=0;n<this.element_arr.peek().length;n++)this.element_arr.peek()[n].selected()&&t.push(this.element_arr.peek()[n].value())};this.getSelectedString=function(){if(this.element_arr.peek()[0].selected())return"";var n=this.getSelectedArray();return n.join()};this.getNames=function(){res=[];for(var n=0;n<this.element_arr.peek().length;n++)this.element_arr.peek()[n].selected()&&(typeof this.element_arr.peek()[n].key=="function"?res.push({name:this.element_arr.peek()[n].key()}):res.push({name:this.element_arr.peek()[n].key}));return res};this.getSelectedArray=function(){var t,n;if(this.element_arr.peek()[0].selected())return[];for(t=[],n=0;n<this.element_arr.peek().length;n++)this.element_arr.peek()[n].selected()&&(typeof this.element_arr.peek()[n].value=="function"?t.push(this.element_arr.peek()[n].value()):t.push(this.element_arr.peek()[n].value));return t};this.clickElement=function(n,t,i,o){o.ctrlKey?r.call(this,n,t,i,o):o.shiftKey?u.call(this,n,t,i,o):e.call(this,n,t,i,o);this.allBehaivor&&f.call(this,t)};this.setSelectedOneElement=function(n){for(var t=0;t<this.element_arr.peek().length;t++)this.element_arr.peek()[t].value()==n?this.element_arr.peek()[t].selected(!0):this.element_arr.peek()[t].selected(!1)};this.setSelectedOneElementAndScroll=function(n){this.scrollToElement(n,function(n){n.selected(!0)})};this.scrollToElement=function(n,t){$(function(){for(var u,r=0;r<i.element_arr.peek().length;r++)if(i.element_arr.peek()[r].value()===n){u=$("#select-subordinates div").eq(r).prevAll().length*$("#select-subordinates div").eq(0).outerHeight();$("#select-subordinates").get(0).scrollTop=u;break}typeof t=="function"&&t(i.element_arr.peek()[r])})};this.selectLocation=function(n){for(var r,t,i=0;i<this.element_arr.peek().length;i++)this.element_arr.peek()[i].selected(!1);for(r=0;r<n.length;r++)for(t=0;t<this.element_arr.peek().length;t++)n[r]==this.element_arr.peek()[t].value()&&this.element_arr.peek()[t].selected(!0)}};TeG.KO.MultiSelectWithStatus=function(n){function i(n,t,i,r){this.key=n;this.value=t;this.selected=ko.observable(i);this.status=r;this.cssClass=ko.computed(function(){return this.selected()?"selected "+this.status:this.status},this)}var t,r;this.element_arr=ko.observableArray();for(t in n)r=new i(n[t].key,n[t].value,n[t].selected,n[t].status),this.element_arr.push(r);this.getSelectedString=function(){var t,n;if(this.element_arr.peek()[0].selected())return"";for(t=[],n=0;n<this.element_arr.peek().length;n++)this.element_arr.peek()[n].selected()&&t.push(this.element_arr.peek()[n].value);return t.join()};this.setElements=function(n){var t,r;this.element_arr.removeAll();for(t in n)r=new i(n[t].key,n[t].value,n[t].selected,n[t].status),this.element_arr.push(r)}};TeG.KO.MultiSelectWithStatus.prototype=new TeG.KO.MultiSelect;TeG.KO.MultiSelectWithStatus.prototype.constructor=TeG.KO.MultiSelectWithStatus;TeG.KO.CreditTransferLocationReport={},function(n){function t(){var n=this;n.date=new TeG.KO.FromDateToDate;n.transactionType=ko.observable();n.groupingType=ko.observable();typeof tegReportsCreditTransferLocationGetLocation=="function"&&(n.location=new TeG.KO.MultiSelect(tegReportsCreditTransferLocationGetLocation()),n.location.allBehaivor=!0);n.searchReport$click=function(t,i){n.date.getFromDate()>n.date.getToDate()?(n.date.fromDateError(TeG.Translations.ErrorMessageStartDateMustPrecedeEndDate),n.date.fromDateError$visible(!0),n.date.fromDateError$css(!0),i.stopImmediatePropagation()):(n.date.fromDateError$css(!1),n.date.fromDateError$visible(!1),n.summaryFromDate(n.date.fromDate().toString()+" 00:00"),n.summaryToDate(n.date.toDate().toString()+" 23:59"),n.changeBalance=ko.observable())};n.openingBalanceValue=ko.observable("");n.closingBalanceValue=ko.observable("");n.changeBalanceValue=ko.observable("");n.changeBalancePlus$visible=ko.observable(!0);n.summaryFromDate=ko.observable("");n.summaryToDate=ko.observable("");n.changeBalance=ko.observable();n.redUnderline$class=ko.computed(function(){return-1==this.changeBalanceValue().indexOf("-")},n);n.greenUnderline$class=ko.computed(function(){return!this.redUnderline$class()},n);n.initFromStorage=function(t){n.date.fromDate(t.day);n.date.toDate(t.day);n.transactionType(t.transactionType);n.groupingType("detailed");n.location.element_arr.peek()[0].selected(!1);n.location.setSelectedOneElementAndScroll(t.location)}}n.ViewModel=t}(TeG.KO.CreditTransferLocationReport);$(function(){TeG.KO.CreditTransferLocationReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.CreditTransferLocationReport.ViewModel.constructor.prototype=TeG.KO.CreditTransferLocationReport.ViewModel;creditTransferLocationReportViewModel=new TeG.KO.CreditTransferLocationReport.ViewModel});TeG.KO.CreditTransferProgressiveReport={},function(n){function t(){var n=this;n.date=new TeG.KO.FromDateToDate;n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)});n.activateValidation.call(n);n.searchReport$click=function(n,t){(new TeG.Validator).IsContainerHasDisplayedErrorMessage($("#reportHeaderContainer"))&&t.stopImmediatePropagation()};n.openingBalanceValue=ko.observable("");n.closingBalanceValue=ko.observable("");n.changeBalanceValue=ko.observable("");n.changeBalancePlus$visible=ko.observable(!0);n.summaryFromDate=ko.computed(function(){return this.date.fromDate().toString()+" 00:00"},n);n.summaryToDate=ko.computed(function(){return this.date.toDate().toString()+" 23:59"},n);n.changeBalance=ko.observable();n.redUnderline$class=ko.computed(function(){return-1===this.changeBalanceValue().indexOf("-")},n);n.greenUnderline$class=ko.computed(function(){return!this.redUnderline$class()},n);n.initFromStorage=function(t){n.date.fromDate(t.day);n.date.toDate(t.day)}}n.ViewModel=t}(TeG.KO.CreditTransferProgressiveReport);$(function(){TeG.KO.CreditTransferProgressiveReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.CreditTransferProgressiveReport.ViewModel.constructor.prototype=TeG.KO.CreditTransferProgressiveReport.ViewModel});TeG.KO.CasinoTransactionLocationReport={},function(n){function t(){var n=this;n.customerType=ko.observable("All");n.date=new TeG.KO.FromDateToDateWithTime;n.date.dateTimeFixed$visible(!0);n.date.dateTime$visible(!1);n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");typeof tegReportsCasinoTransactionLocationGetLocation=="function"&&(n.location=new TeG.KO.MultiSelect(tegReportsCasinoTransactionLocationGetLocation()),n.location.allBehaivor=!0);n.searchReport$click=function(t,i){n.date.getFromDate()>n.date.getToDate()?(n.date.fromDateError(TeG.Translations.ErrorMessageStartDateMustPrecedeEndDate),n.date.fromDateError$visible(!0),n.date.fromDateError$css(!0),i.stopImmediatePropagation()):(n.date.fromDateError$css(!1),n.date.fromDateError$visible(!1),n.fromDateSearch(n.date.fromDate()),n.toDateSearch(n.date.toDate()))};n.groupingType=ko.observable("Daterange");n.groupingType.subscribe(function(n){this.date.dateTime$visible(n=="Detailed");this.date.dateTimeFixed$visible(!this.date.dateTime$visible())},n);n.initFromStorage=function(t){t.fromDate&&n.date.fromDate(t.fromDate);t.toDate&&n.date.toDate(t.toDate);t.customerType&&n.customerType(t.customerType);t.groupingType&&n.groupingType(t.groupingType);t.location&&(n.location.selectLocation(t.location),n.location.scrollToElement(t.location[0]))};n.summary=ko.observableArray()}n.ViewModel=t}(TeG.KO.CasinoTransactionLocationReport);$(function(){TeG.KO.CasinoTransactionLocationReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.CasinoTransactionLocationReport.ViewModel.constructor.prototype=TeG.KO.CasinoTransactionLocationReport.ViewModel;casinoTransactionLocationReport=new TeG.KO.CasinoTransactionLocationReport.ViewModel});TeG.KO.GamePlayLocationReport={},function(n){function t(){var n=this;n.groupingType=ko.observable("");n.validateTwoMonthesBeforeStartDate=function(){var t=new Date,i=new Date(n.date.getFromDate()),r=t.getFullYear()*12+t.getMonth()-(i.getFullYear()*12+i.getMonth());if(r<2)return!0;if(r>2)return!1;if(r==2){if(i.getDate()>t.getDate())return!0;if(i.getDate()<t.getDate())return!1;if(i.getDate()==t.getDate())return!0}};n.searchReport$click=function(t,i){n.date.getFromDate()>n.date.getToDate()?(n.date.fromDateError(TeG.Translations.ErrorMessageStartDateMustPrecedeEndDate),n.date.fromDateError$visible(!0),n.date.fromDateError$css(!0),i.stopImmediatePropagation()):n.validateTwoMonthesBeforeStartDate()?(n.date.fromDateError$css(!1),n.date.fromDateError$visible(!1),n.fromDateSearch(n.date.fromDate()),n.toDateSearch(n.date.toDate())):(n.date.fromDateError(TeG.Translations.ErrorMessageTwoMonthesFromCurrentDate),n.date.fromDateError$visible(!0),n.date.fromDateError$css(!0),i.stopImmediatePropagation())}}n.ViewModel=t}(TeG.KO.GamePlayLocationReport);$(function(){TeG.KO.GamePlayLocationReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.GamePlayLocationReport.ViewModel.constructor.prototype=TeG.KO.GamePlayLocationReport.ViewModel;gamePlayLocationReport=new TeG.KO.GamePlayLocationReport.ViewModel});TeG.KO.CurrentNetworkBalance={},function(n){function t(){var n=this;n.summary=ko.observableArray();n.titleDataName=ko.observable("");n.titleDataRole=ko.observable("");n.summaryData$visible=ko.observable(!1);n.getSearchParameter().isBtnClicked=!0}n.ViewModel=t}(TeG.KO.CurrentNetworkBalance);$(function(){TeG.KO.CurrentNetworkBalance.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.CurrentNetworkBalance.ViewModel.constructor.prototype=TeG.KO.CurrentNetworkBalance.ViewModel;currentNetworkBalance=new TeG.KO.CurrentNetworkBalance.ViewModel});TeG.KO.IntegrityReport={},function(n){function r(){function r(t){tegPopups.showDaisyWheelTotalHover();$.ajax({url:tegUrlHelper.getSubordinates,type:"POST",data:JSON.stringify({LoginName:t}),contentType:"application/json; charset=utf-8",error:function(n){tegPopups.closeTotalHover();tegErrorHandler.processError(n,TeG.Translations.PopupError)}}).done(function(t){for(var r=[{key:"All",value:"",selected:!0}],i=0;i<t.SubOrdinates.length;i++)r.push({key:t.SubOrdinates[i].FirstName+" "+t.SubOrdinates[i].LastName,value:t.SubOrdinates[i].LoginName,selected:!1,status:TeG.Utils().getSubordinateStatus(t.SubOrdinates[i].Status)});n.agents.setElements(r);n.agents$visible(!0);tegPopups.closeTotalHover();splitterResize()})}var n=this;n.date=new TeG.KO.FromDateToDate;n.timeGrouping=ko.observable("Day");n.titleData=$.extend(!0,{},n.initTitleData);typeof tegReportsIntegrityGetMasterAgent=="function"?(t="HO",n.titleData.timeGrouping.visible=!0,n.titleData.fromDate.visible=!0,n.titleData.toDate.visible=!0,n.titleData.selectMA.visible=!0,n.titleData.selectA.visible=!0,n.masterAgents=new TeG.KO.MultiSelectWithStatus(tegReportsIntegrityGetMasterAgent()),n.masterAgents$visible=ko.observable(!0),n.agents=new TeG.KO.MultiSelectWithStatus([{key:"All",value:"",selected:ko.observable(!0),status:"open"}]),n.agents.allBehaivor=!0,n.agents$visible=ko.observable(!1),n.masterAgents$click=function(t,i,u){for(var f=0;f<t.peek().length;f++)t.peek()[f].selected(!1);if(t.peek()[i].selected(!0),u.value==""){n.agents$visible(!1);splitterResize();return}r(u.value);splitterResize()},n.getDelimitedList=function(){return!n.agents$visible()||n.agents.getSelectedString()==""?n.masterAgents.getSelectedString():n.agents.getSelectedString()}):typeof tegReportsIntegrityGetAgent=="function"&&(t="MA",n.titleData.timeGrouping.visible=!0,n.titleData.fromDate.visible=!0,n.titleData.toDate.visible=!0,n.titleData.selectA.visible=!0,n.agents$visible=ko.observable(!0),n.agents=new TeG.KO.MultiSelectWithStatus(tegReportsIntegrityGetAgent()),n.agents.allBehaivor=!0,n.getDelimitedList=function(){return n.agents.getSelectedString()});n.searchReport$click=function(t){if(n.date.validate(),(new TeG.Validator).IsContainerHasDisplayedErrorMessage($("#reportHeaderContainer")))t.stopImmediatePropagation();else{var i=n.timeGrouping()=="Day"?"DD-MM-YYYY":"MM-YYYY";n.fromDateSearch(moment(reportViewModel.datePickers.getFromDateFromDatePicker()).format(i));n.toDateSearch(moment(reportViewModel.datePickers.getToDateFromDatePicker()).format(i))}};n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");n.datePickers=new TeG.KO.DatePickerMonthDay(n.timeGrouping,n.date);n.datePickers.fromPicker.getDatePicker().value(moment(n.date.getFromDate()).toDate());n.datePickers.toPicker.getDatePicker().value(moment(n.date.getToDate()).toDate());n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)},function(){TeG.KOValidate.day62.call(n.date,n.timeGrouping)});n.activateValidation.call(n);n.summary=ko.observableArray();n.getRequestData=function(){return n.titleData=$.extend(!0,{},n.initTitleData),n.titleData.timeGrouping.value=n.timeGrouping(),n.titleData.timeGrouping.visible=!0,n.titleData.fromDate.label=n.labelFromDate,n.fromDate=n.titleData.fromDate.value=n.date.fromDate(),n.titleData.fromDate.visible=!0,n.titleData.toDate.label=n.labelToDate,n.titleData.toDate.value=n.date.toDate(),n.titleData.toDate.visible=!0,t=="HO"&&(n.titleData.selectMA.label=n.labelMA,n.titleData.selectMA.value=n.masterAgents.getNames(),n.titleData.selectMA.visible=!0),n.titleData.selectA.label=n.labelA,n.titleData.selectA.value=n.agents.getNames(),n.titleData.selectA.visible=!0,n.agents$visible()||(n.titleData.selectA.visible=!1),i={fromDate:n.datePickers.getFromDateFromDatePicker(),toDate:n.datePickers.getToDateFromDatePicker(),entityDelimitedList:n.getDelimitedList(),timeGrouping:n.timeGrouping()}};n.getSendData=function(){return i};n.getType=function(){return t}}var t=null,i=null;n.ViewModel=r}(TeG.KO.IntegrityReport);$(function(){TeG.KO.IntegrityReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.IntegrityReport.ViewModel.constructor.prototype=TeG.KO.CurrentNetworkBalance.ViewModel});TeG.KO.IPLoginReport={},function(n){function r(){var n=this;n.date=new TeG.KO.FromDateToDate;n.timeGrouping=ko.observable("Today");n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");n.datePickers=new TeG.KO.DatePickerMonthDay("Day",n.date);n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)});n.activateValidation.call(n);n.summary=ko.observableArray();n.getRequestData=function(){var r=moment().utc(),u=moment().utc(),i=moment().utc(),f,e,o;i.hours(i.hours()-i.zone()/60+parseInt(TeG.GlobalVariables.timeDiff)).date();i=i.date();f=moment().utc();f.hours(f.hours()-f.zone()/60+parseInt(TeG.GlobalVariables.timeDiff)).month();f=f.month();switch(n.timeGrouping()){case"Today":r.date(i).hours(0).minutes(0).seconds(0).milliseconds(0);u.date(i).hours(23).minutes(59).seconds(59).milliseconds(999);break;case"Yesterday":r.date(i-1).hours(0).minutes(0).seconds(0).milliseconds(0);u.date(i-1).hours(23).minutes(59).seconds(59).milliseconds(999);break;case"ThisMonth":r.month(f).date(1).hours(0).minutes(0).seconds(0).milliseconds(0);u.date(i).hours(23).minutes(59).seconds(59).milliseconds(999);break;case"LastMonth":r.month(f-1).date(1).hours(0).minutes(0).seconds(0).milliseconds(0);u.month(f).date(1).date(0).hours(23).minutes(59).seconds(59).milliseconds(999);break;case"DateRange":e=reportViewModel.date.fromDate().split("-");r.date(parseInt(e[0])).month(parseInt(e[1])-1).year(parseInt(e[2])).hours(0).minutes(0).seconds(0).milliseconds(0);o=reportViewModel.date.toDate().split("-");u.date(parseInt(o[0])).month(parseInt(o[1])-1).year(parseInt(o[2])).hours(23).minutes(59).seconds(59).milliseconds(999)}return n.fromDateSearch(r.format("DD-MM-YYYY")),n.toDateSearch(u.format("DD-MM-YYYY")),r=r.format(),u=u.format(),t={fromDate:r,toDate:u,timeGrouping:n.timeGrouping()}};n.datePickers$visible=ko.computed(function(){return n.timeGrouping()=="DateRange"});n.searchReport$click=function(t){n.date.getFromDate()>n.date.getToDate()?(n.date.fromDateError(TeG.Translations.ErrorMessageStartDateMustPrecedeEndDate),n.date.fromDateError$visible(!0),n.date.fromDateError$css(!0),t.stopImmediatePropagation()):(n.date.fromDateError$css(!1),n.date.fromDateError$visible(!1),n.fromDateSearch(n.date.fromDate()),n.toDateSearch(n.date.toDate()));TeG.Reports().IPLogin().Submit(n.getRequestData())};n.getSendData=function(){return t};n.getType=function(){return i}}var i=null,t=null;n.ViewModel=r}(TeG.KO.IPLoginReport);$(function(){TeG.KO.IPLoginReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.IPLoginReport.ViewModel.constructor.prototype=TeG.KO.CurrentNetworkBalance.ViewModel});TeG.KO.LiveGamesFraudCheckReport={},function(n){function i(){var n=this;n.date=new TeG.KO.FromDateToDate;n.AccountNumberObservable=ko.observable("").extend({required:{fieldElement:$("#account-name")},regexValidator:{fieldElement:$("#account-name"),regEx:TeG.ValidatorRegExpressions.RegexAccountNumber}});n.AccountNumberObservable.hasError(!1);n.RoundIdObservable=ko.observable("").extend({required:{fieldElement:$("#round-id")},regexValidator:{fieldElement:$("#round-id"),regEx:"^[0-9]*$"}});n.RoundIdObservable.hasError(!1);n.titleNoGamePlayData$visible=ko.observable(!1);n.GameTypeObservable=ko.observableArray([]);n.choosenGame=ko.observableArray([]);n.ByRoundIdObservable=ko.observable(!1);n.shouldShowRoundIdField=ko.computed(function(){return this.ByRoundIdObservable()||(this.RoundIdObservable(""),this.RoundIdObservable.hasError(!1)),this.ByRoundIdObservable()},this);n.fromDateError$visible=ko.computed(function(){return moment(n.date.getFromDate()).isAfter(moment(n.date.getToDate()))});n.date.fromDateError$css=ko.computed(function(){return n.fromDateError$visible()});n.ByRoundId=ko.observable(n.ByRoundIdObservable());n.RoundIdObservable.subscribe(function(){n.RoundIdObservable()!=""||n.AccountNumberObservable()==""||n.shouldShowRoundIdField()||n.RoundIdObservable.hasError(!1)});n.AccountNumberObservable.subscribe(function(){n.AccountNumberObservable()==""&&n.RoundIdObservable()!=""&&n.AccountNumberObservable.hasError(!1)});n.getRequestData=function(){return t={AccountName:n.AccountNumberObservable(),Game:n.choosenGame()[0].Id,RoundId:n.RoundIdObservable(),FromDate:n.date.getFromDate(),ToDate:n.date.getToDate()}};n.hasErrors=function(){return n.shouldShowRoundIdField()?n.AccountNumberObservable.hasError()||n.RoundIdObservable.hasError()||n.date.fromDateError$css():n.AccountNumberObservable.hasError()||n.date.fromDateError$css()};n.refreshFields=function(){var t=n.AccountNumberObservable(),i=n.RoundIdObservable();n.AccountNumberObservable(" ");n.AccountNumberObservable(t);n.shouldShowRoundIdField()&&(n.RoundIdObservable(" "),n.RoundIdObservable(i))};n.searchReport$click=function(){TeG.Reports().LiveGamesFraudCheck().Submit()}}var t=null;n.ViewModel=i}(TeG.KO.LiveGamesFraudCheckReport);$(function(){TeG.KO.LiveGamesFraudCheckReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.LiveGamesFraudCheckReport.ViewModel.constructor.prototype=TeG.KO.LiveGamesFraudCheckReport.ViewModel});TeG.KO.Gar={},function(n){function i(){var n=this;n.timeGrouping=ko.observable();n.gameTypeId=ko.observable("");n.date=new TeG.KO.FromDateToDate;n.datePickers=new TeG.KO.DatePickerMonthDay(n.timeGrouping,n.date);n.date.toDate(n.date.getCurrentDate());n.groupingType=ko.observableArray();n.groupingTypeSelected=ko.observable(["GameCategory"]);n.timeGroupingPeriod=ko.observableArray();n.timeGroupingPeriodSelected=ko.observableArray(["DateRangeDay"]);n.timeGroupingPeriodOptions=ko.observableArray();n.masterAgentsDataList=null;n.selectedMA=ko.observable("");n.masterAgents=ko.observableArray([{text:"All",value:"",status:"Open"}]);n.masterAgentCurrency=ko.observable(!0);n.masterAgentCurrency$visible=ko.observable(!1);n.agentsDataList=null;n.agents$visible=ko.observable(!1);n.selectedA=ko.observable("");n.gameClientType=ko.observableArray();n.gameClientType.push({value:null,text:TeG.Translations.ReportLabelAll});n.gameClientType.push({value:1,text:TeG.Translations.ReportGrossWinAnalysisFlash});n.gameClientType.push({value:2,text:TeG.Translations.ReportGrossWinAnalysisViper});n.gameClientType.push({value:10,text:TeG.Translations.ReportGrossWinAnalysisHTML5});n.gameClientType.push({value:11,text:TeG.Translations.ReportGrossWinAnalysisAndroidAPK});n.gameClientType.push({value:12,text:TeG.Translations.ReportGrossWinAnalysisiOS});n.gameClientTypeSelected=ko.observableArray([null]);n.gameCategoryArray=ko.observableArray();n.gameCategorySelected=ko.observableArray();n.gameCategoryArray$visible=ko.observable(!1);n.gameArray$visible=ko.observable(!1);n.gameArray=ko.observableArray();n.gameSelected=ko.observableArray();n.SummaryDataMultiCurrency$visible=ko.observable(!1);n.summaryData$visible=ko.observable(!1);n.summaryAvailableCurrencies=ko.observableArray();n.summaryDataToShow=ko.observableArray();n.gameCategoryChanged=function(){var t=n.gameCategorySelected();for(index in t)if(t[index]==null){n.gameCategorySelected([null]);return}};n.gameClientTypeChanged=function(){var t=n.gameClientTypeSelected.peek().some(function(n){return n==null});t&&n.gameClientTypeSelected.peek().length>1&&n.gameClientTypeSelected([null])};n.gameArrayChanged=function(){var t=n.gameSelected();for(index in t)if(t[index]==null){n.gameSelected([null]);return}};n.timeGrouping.subscribe(function(t){this.timeGroupingPeriodOptions.removeAll();t==="Day"?(this.timeGroupingPeriodOptions.push({value:"DateRangeDay",text:TeG.Translations.ReportOptionDaterange}),this.timeGroupingPeriodOptions.push({value:"Day",text:TeG.Translations.ReportOptionsDay})):(this.timeGroupingPeriodOptions.push({value:"DateRangeDay",text:TeG.Translations.ReportOptionDaterange}),this.timeGroupingPeriodOptions.push({value:"Month",text:TeG.Translations.ReportOptionsMonth}));n.timeGroupingPeriodSelected(["DateRangeDay"]);n.groupingType.removeAll();n.groupingType.push({value:"GameCategory",text:TeG.Translations.ColumnNameGameCategory},{value:"Game",text:TeG.Translations.ColumnNameGameName})},n);n.timeGrouping("Day");n.timeGrouping.subscribe(function(){var t=$('input[name="fromDate"]').val(),i=$('input[name="toDate"]').val();this.datePickers.switchDayMonth();this.date.fromDate(t);this.date.toDate(i);this.groupingTypeSelected(["GameCategory"]);this.masterAgentsDataList?(this.selectedMA(""),this.masterAgentsDataList.select(0),this.masterAgentCurrency$visible(!1),this.masterAgentCurrency(!0),this.agents$visible(!1)):(this.selectedA(""),this.agentsDataList.select(0));this.gameClientTypeSelected([null]);this.gameCategoryArray$visible(!1);this.gameArray$visible(!1);n.date.validate();splitterResize()},n);n.gameTypeId.subscribe(function(){this.gameClientTypeSelected()[0]!==0&&(this.gameArray$visible(!1),this.gameCategoryArray.removeAll(),this.gameCategorySelected.removeAll(),this.getAjaxData({gameClientType:this.gameClientTypeSelected(),GameTypeId:this.gameTypeId()||null},tegUrlHelper.getGameCategories,function(n,t){t.gameCategoryArray.push({text:"All",value:null,title:"All"});for(var i=0;i<n.GameCategories.length;i++)t.gameCategoryArray.push({text:n.GameCategories[i].Name,value:n.GameCategories[i].Id,title:n.GameCategories[i].Name});t.gameCategorySelected.push("");t.gameCategoryArray$visible(!0)}))},n);n.gameClientTypeSelected.subscribe(function(){var t=n.gameClientTypeSelected.peek(),i=t.some(function(n){return n===null});if(i){this.gameCategoryArray$visible(!1);this.gameArray$visible(!1);splitterResize();return}this.gameArray$visible(!1);this.gameCategoryArray.removeAll();this.gameCategorySelected.removeAll();this.getAjaxData({GameClientTypeListInts:t,GameTypeId:this.gameTypeId()||null},tegUrlHelper.getGameCategories,function(n,t){t.gameCategoryArray.push({text:"All",value:null,title:"All"});for(var i=0;i<n.GameCategories.length;i++)t.gameCategoryArray.push({text:n.GameCategories[i].Name,value:n.GameCategories[i].Id,title:n.GameCategories[i].Name});t.gameCategorySelected.push("");t.gameCategoryArray$visible(!0)})},n);n.gameCategorySelected.subscribeArrayChangedAll();n.gameCategorySelected.subscribe(function(t){if(n.gameArray$visible(!1),this.gameArray.removeAll(),this.gameSelected.removeAll(),t.length==0||t[0]===""){this.gameArray$visible(!1);splitterResize();return}var i=n.gameClientTypeSelected.peek(),r=i.some(function(n){return n===null});r&&(i=null);this.getAjaxData({GameContentCategoryIds:n.gameCategorySelected.peek(),GameClientTypeListInts:i},tegUrlHelper.getGames,function(t){var r=[],i;for(r.push({text:"All",value:null,title:"All"}),i=0;i<t.Games.length;i++)r.push({text:t.Games[i].Name,value:t.Games[i].Id,title:t.Games[i].Name});n.gameArray(r);n.gameArray$visible(!0)})},n);n.gameSelected.subscribeArrayChangedAll();n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)},function(){TeG.KOValidate.day62.call(n.date,n.timeGrouping)});n.activateValidation.call(n);n.searchReport$click=function(t,i){n.date.validate();(new TeG.Validator).IsContainerHasDisplayedErrorMessage($("#reportHeaderContainer"))?i.stopImmediatePropagation():(n.fromDateSearch($('input[name="fromDate"]').val()),n.toDateSearch($('input[name="toDate"]').val()))};n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");n.changeMA=function(t){if(n.selectedA(""),t.sender.value()==""){n.agents$visible(!1);this.masterAgentCurrency$visible(!1);splitterResize();return}this.masterAgentCurrency$visible(!0);this.masterAgentCurrency(!1);n.getAjaxData({LoginName:t.sender.value()},tegUrlHelper.getSubordinates,function(t){var r=new kendo.data.DataSource({data:[]}),i;for(r.add({value:"",text:"All",status:"open"}),i=0;i<t.SubOrdinates.length;i++)r.add({value:t.SubOrdinates[i].LoginName,text:t.SubOrdinates[i].FirstName+" "+t.SubOrdinates[i].LastName,status:TeG.Utils().getSubordinateStatus(t.SubOrdinates[i].Status)});n.agentsDataList.setDataSource(r);n.agentsDataList.select(0);n.agents$visible(!0)})};n.selectedA.subscribe(function(t){t?(n.groupingType.removeAll(),n.groupingType.push({value:"GameCategory",text:TeG.Translations.ColumnNameGameCategory},{value:"Game",text:TeG.Translations.ColumnNameGameName},{value:"Account",text:TeG.Translations.AccountDetailsTabActionAccount},{value:"AccountGame",text:TeG.Translations.GameAnalysisReportAccountAndGame})):(n.groupingType.removeAll(),n.groupingType.push({value:"GameCategory",text:TeG.Translations.ColumnNameGameCategory},{value:"Game",text:TeG.Translations.ColumnNameGameName}),$.inArray(n.groupingTypeSelected()[0],["Game","GameCategory"])===-1&&n.groupingTypeSelected(["GameCategory"]))});n.memberId=function(){return n.agents$visible()&&n.selectedA()!=""?n.selectedA():n.selectedMA()};n.getRequestData=function(){var r,i,u,f,e;if(n.titleData=$.extend(!0,{},n.initTitleData),n.titleData.timeGrouping.visible=!0,n.titleData.timeGrouping.label=n.labels.timeGrouping,n.titleData.timeGrouping.value=n.timeGrouping(),n.titleData.timeGrouping.value=n.timeGrouping()=="Day"?n.labelTimeGroupingDaily:n.labelTimeGroupingMonthly,n.titleData.fromDate.value=n.date.fromDate(),n.titleData.fromDate.visible=!0,n.titleData.toDate.value=n.date.toDate(),n.titleData.toDate.visible=!0,n.titleData.groupingType.value=n.groupingType.getSelectedText(n.groupingTypeSelected),n.titleData.groupingType.visible=!0,n.titleData.timeGroupingPeriod.value=n.timeGroupingPeriodOptions.getSelectedText(n.timeGroupingPeriodSelected),n.titleData.timeGroupingPeriod.visible=!0,n.masterAgentCurrency$visible()&&(n.titleData.masterAgentCurrency.visible=!0,n.titleData.masterAgentCurrency.value=n.masterAgentCurrency()),n.titleData.selectMA.visible=!0,n.titleData.selectMA.value=[],n.masterAgentsDataList)for(i=0;i<n.masterAgentsDataList.dataSource._data.length;i++)if(n.masterAgentsDataList.dataSource._data[i].value==n.selectedMA()){n.titleData.selectMA.value.push({name:n.masterAgentsDataList.dataSource._data[i].text});break}if(n.agents$visible())for(n.titleData.selectA.visible=!0,n.titleData.selectA.value=[],i=0;i<n.agentsDataList.dataSource._data.length;i++)if(n.agentsDataList.dataSource._data[i].value==n.selectedA()){n.titleData.selectA.value.push({name:n.agentsDataList.dataSource._data[i].text});break}if(n.titleData.gameClientType.visible=!0,n.titleData.gameClientType.value=n.gameClientType.peek().filter(function(t){return t.value===n.gameClientTypeSelected()[0]})[0].text,n.gameCategoryArray$visible())for(n.titleData.gameCategoryIdArray.visible=!0,r=n.gameCategoryArray.getSelectedText(n.gameCategorySelected),n.titleData.gameCategoryIdArray.value=[],i=0;i<r.length;i++)n.titleData.gameCategoryIdArray.value.push({name:r[i]});if(n.gameArray$visible())for(n.titleData.gameIdArray.visible=!0,r=n.gameArray.getSelectedText(n.gameSelected),n.titleData.gameIdArray.value=[],i=0;i<r.length;i++)n.titleData.gameIdArray.value.push({name:r[i]});return t={},t.timeGrouping=n.timeGrouping(),t.timeGrouping=="Month"?(t.fromDate=TeG.Utils().convertReportDateTime("01-"+$('input[name="fromDate"]').val(),"00","00"),u=$('input[name="toDate"]').val().split("-"),t.toDate=TeG.Utils().convertReportDateTime(new Date(u[1],u[0],0).getDate()+"-"+$('input[name="toDate"]').val(),"23","59","59.997")):(t.fromDate=TeG.Utils().convertReportDateTime($('input[name="fromDate"]').val(),"00","00"),t.toDate=TeG.Utils().convertReportDateTime($('input[name="toDate"]').val(),"23","59","59.997")),t.groupingType=n.groupingTypeSelected()[0],t.timeGroupingPeriod=n.timeGroupingPeriodSelected()[0],t.loginName=n.memberId(),t.currencyId=n.masterAgentCurrency$visible()&&!n.masterAgentCurrency()?balanceModel.id():"",f=null,e=n.gameClientTypeSelected.peek().some(function(n){return n===null}),e||(f=n.gameClientTypeSelected.peek()),t.GameClientTypeListInts=f,t.gameCategoryIdArray="",n.gameCategoryArray$visible()&&n.gameCategorySelected.peek().length>0&&n.gameCategorySelected.peek()[0]!==""&&(t.gameCategoryIdArray=n.gameCategoryArray.getSelectedValue(n.gameCategorySelected)),t.gameIdArray="",n.gameArray$visible()&&n.gameSelected.peek().length>0&&n.gameSelected.peek()[0]!=""&&(t.gameIdArray=n.gameArray.getSelectedValue(n.gameSelected)),t.gameTypeId=n.gameTypeId(),t};n.summary=ko.observableArray()}var t=null;n.ViewModel=i}(TeG.KO.Gar);$(function(){TeG.KO.Gar.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.Gar.ViewModel.constructor.prototype=TeG.KO.Gar.ViewModel});TeG.KO.Billing={},function(n){function t(){var n=this;n.Date=ko.observable(new Date);n.DatePickerFormat=ko.observable("MM-yyyy");n.DatePickerStart=ko.observable("year");n.DatePickerDepth=ko.observable("year");n.CurrencyTypeList=ko.observableArray([{Value:1,Text:TeG.Translations.ReportHeadOfficeCurrency},{Value:0,Text:TeG.Translations.ReportMasterAgentCurrency}]);n.CurrencyTypeSelected=ko.observableArray([1]);n.TymeZoneTypeSelected=ko.observable("system");n.Summary=ko.observableArray([]);n.GetSendData=function(){var i=moment(n.Date()).format("YYYY-MM-01T00:00:00.000"),t=null;return $("#select-subordinates").index()!==-1&&(t=[],$("#select-subordinates > div.selected").each(function(){t.push($(this).attr("data-value"))}),t.length>0&&t[0]==="All"&&(t=null)),{Subordinates:t,Date:i,TimeZoneType:n.TymeZoneTypeSelected(),CurrencyId:n.CurrencyTypeSelected()[0]}};n.summaryDataInit=function(t){var i=[{field:"Currency",type:"number",captionText:TeG.Translations.ColumnNameCurrency,captionValue:""},{field:"TotalFlash",type:"number",captionText:TeG.Translations.ColumnNameTotalFlash,captionValue:""},{field:"TotalDownload",type:"number",captionText:TeG.Translations.ColumnNameTotalDownload,captionValue:""},{field:"TotalHTML5",type:"number",captionText:TeG.Translations.ColumnNameTotalHtml5,captionValue:""},{field:"TotalAndroid",type:"number",captionText:TeG.Translations.ColumnNameTotalAndroid,captionValue:""},{field:"TotaliOS",type:"number",captionText:TeG.Translations.ColumnNameTotalIos,captionValue:""},{field:"SumRNG",type:"number",captionText:TeG.Translations.ColumnNameTotalRNGNetWin,captionValue:""},{field:"MobileNetWin",type:"number",captionText:TeG.Translations.ColumnNameTotalMobileNetWin,captionValue:""},{field:"SumLG",type:"number",captionText:TeG.Translations.ColumnNameTotalLGNetWin,captionValue:""},{field:"TotalNetWin",type:"number",captionText:TeG.Translations.ColumnNameTotalNetWin,captionValue:""},{field:"SumPCA",type:"number",captionText:TeG.Translations.ColumnNamePca,captionValue:""},{field:"SumProgressiveWin",type:"number",captionText:TeG.Translations.MenuProgressiveWinsReport,captionValue:""},{field:"SumRefund",type:"number",captionText:TeG.Translations.ColumnNameRefund,captionValue:""},{field:"SumTournamentWin",type:"number",captionText:TeG.Translations.ColumnNameTournamentWins,captionValue:""},];i.forEach(function(n){var i=t[n.field];switch(n.type){case"date":i=moment(i).format("YYYY-MM-DD HH:mm:ss");break;case"number":i=kendo.toString(i,"n2");break;case"string":i=i}n.captionValue=i});n.Summary(i)};n.searchReport$click=function(){TeG.Reports().Billing().Submit()}}n.ViewModel=t}(TeG.KO.Billing);$(function(){TeG.KO.Billing.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.Billing.ViewModel.constructor.prototype=TeG.KO.Gar.ViewModel});TeG.KO.GrossWinAnalysis={},function(n){function t(){var n=this;n.timeGrouping=ko.observable();n.gameTypeId=ko.observable("");n.timeGroupingPeriodSelected=ko.observableArray(["DateRangeDay"]);n.timeGroupingPeriodOptions=ko.observableArray();n.date=new TeG.KO.FromDateToDate;n.datePickers=new TeG.KO.DatePickerMonthDay(n.timeGrouping,n.date);n.date.toDate(n.date.getCurrentDate());n.timeGrouping.subscribe(function(n){n=="Day"?this.timeGroupingPeriodOptions([{value:"DateRangeDay",text:TeG.Translations.ReportOptionDaterange},{value:"Day",text:TeG.Translations.ReportOptionsDay}]):this.timeGroupingPeriodOptions([{value:"DateRangeDay",text:TeG.Translations.ReportOptionDaterange},{value:"Month",text:TeG.Translations.ReportOptionsMonth}])},n);n.timeGrouping("Day");n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)},function(){TeG.KOValidate.day62.call(n.date,n.timeGrouping)});n.activateValidation.call(n);n.searchReport$click=function(t,i){n.date.validate();(new TeG.Validator).IsContainerHasDisplayedErrorMessage($("#reportHeaderContainer"))&&i.stopImmediatePropagation()}}n.ViewModel=t}(TeG.KO.GrossWinAnalysis);$(function(){TeG.KO.GrossWinAnalysis.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.GrossWinAnalysis.ViewModel.constructor.prototype=TeG.KO.GrossWinAnalysis.ViewModel});TeG.KO.PlayersGrossWinReport={},function(n){function u(){var n=this,u;n.date=new TeG.KO.FromDateToDate;n.datePickers=new TeG.KO.DatePickerMonthDay("Day",n.date);n.registerValidator.push(function(){TeG.KOValidate.isIncorrectDate.call(n.date)},function(){TeG.KOValidate.fromDateExcess.call(n.date)});n.activateValidation.call(n);n.setType=function(n){i=n};n.selectedMA=ko.observable("");n.masterAgents$visible=ko.observable(!0);n.masterAgents=new TeG.KO.MultiSelectWithStatus(tegReportsPlayerGrossWinGetMasterAgent());n.masterAgents.allBehaivor=!0;u=function(n,t){this.currencyId=n;this.currencyName=t};n.availableCurrencyTypes=ko.observableArray([new u("0",TeG.Translations.ReportMasterAgentCurrency),new u("1",TeG.Translations.ReportHeadOfficeCurrency),]);n.chosenCurrencyType=ko.observable(["1"]);n.searchReport$click=function(){};n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");n.summaryAvailableCurrencies=ko.observableArray();n.summaryDataToShow=ko.observableArray();n.showReport=function(){t++;t==r&&(reportViewModel.loading$class(!1),reportViewModel.reportData$visible(!0),TeG.Popups().closeTotalHover(),TeG.Reports().EnableToolBar())};n.showReportReset=function(){t=0};n.getRequestData=function(){return n.titleData=$.extend(!0,{},n.initTitleData),n.titleData.fromDate.label=n.labelFromDate,n.fromDate=n.titleData.fromDate.value=n.date.fromDate(),n.titleData.fromDate.visible=!0,n.titleData.toDate.label=n.labelToDate,n.titleData.toDate.value=n.date.toDate(),n.titleData.toDate.visible=!0,n.titleData.selectMA.label=n.labelMA,n.titleData.selectMA.value=n.masterAgents.getNames(),n.titleData.selectMA.visible=!0,n.titleData.currencyType.label=n.labelCurrency,n.titleData.currencyType.value=n.availableCurrencyTypes()[n.chosenCurrencyType()[0]].currencyName,n.titleData.currencyType.visible=!0,sendData={fromDate:n.date.getFromDate(),toDate:n.date.getToDate(),groupingType:"All",entityDelimitedList:n.masterAgents.getSelectedString(),currencyId:n.chosenCurrencyType()[0]},sendData.currencyId!=1?delete sendData.currencyId:sendData.currencyId=$("#loginCurrencyId").val()||1,sendData}}var i=null,r=2,t=0;n.ViewModel=u}(TeG.KO.PlayersGrossWinReport);$(function(){TeG.KO.PlayersGrossWinReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.PlayersGrossWinReport.ViewModel.constructor.prototype=TeG.KO.PlayersGrossWinReport.ViewModel});TeG.KO.ProgressiveWinReconcilliatonDetailsReport={},function(n){function r(){var n=this;n.timeGrouping=ko.observable("ThisMonth");n.fromDateSearch=ko.observable("");n.toDateSearch=ko.observable("");n.summary=ko.observableArray();n.getRequestData=function(){var r=moment().utc(),u=moment().utc(),f=moment().utc(),i;f.hours(f.hours()-f.zone()/60+parseInt(TeG.GlobalVariables.timeDiff)).date();f=f.date();i=moment().utc();i.hours(i.hours()-i.zone()/60+parseInt(TeG.GlobalVariables.timeDiff)).month();i=i.month();switch(n.timeGrouping()){case"ThisMonth":r.month(i).date(1).hours(0).minutes(0).seconds(0).milliseconds(0);u.date(f).hours(23).minutes(59).seconds(59).milliseconds(999);break;case"LastMonth":r.month(i-1).date(1).hours(0).minutes(0).seconds(0).milliseconds(0);u.month(i).date(1).date(0).hours(23).minutes(59).seconds(59).milliseconds(999)}return n.fromDateSearch(r.format("DD-MM-YYYY")),n.toDateSearch(u.format("DD-MM-YYYY")),r=r.format("YYYY-MM-DDTHH:mm:ss.000"),u=u.format("YYYY-MM-DDTHH:mm:ss.000"),t={fromDate:r,toDate:u,timeGrouping:n.timeGrouping()}};n.searchReport$click=function(){TeG.Reports().ProgressiveWinReconcilliatonDetails().Submit(n.getRequestData())};n.getSendData=function(){return t};n.getType=function(){return i}}var i=null,t=null;n.ViewModel=r}(TeG.KO.ProgressiveWinReconcilliatonDetailsReport);$(function(){TeG.KO.ProgressiveWinReconcilliatonDetailsReport.ViewModel.prototype=new TeG.KO.SearchPrototype;TeG.KO.ProgressiveWinReconcilliatonDetailsReport.ViewModel.constructor.prototype=TeG.KO.ProgressiveWinReconcilliatonDetailsReport.ViewModel});ko.bindingHandlers.slide={init:function(n,t){var i=t();$(n).toggle(ko.utils.unwrapObservable(i))},update:function(n,t){var i=t();ko.utils.unwrapObservable(i)?$(n).show("slow",splitterResize):$(n).hide("slow",splitterResize)}};ko.observableArray.fn.subscribeArrayChangedAll=function(n){var t;this.subscribe(function(n){t=n},this,"beforeChange");this.subscribe(function(i){var u,r;if(i.length>t.length){if(u=$(i).not(t).get(),u[0]===""){for(newValueLength=i.length,r=1;r<newValueLength;r++)this.target.pop();return}i[0]===""&&this.target.shift()}typeof n=="function"&&n.call(this.target,i)})};ko.observableArray.fn._getSelectedField=function(n,t){for(var u=[],r,i=0;i<this.peek().length;i++)for(r=0;r<t.peek().length;r++)this.peek()[i].value===t.peek()[r]&&u.push(this.peek()[i][n]);return u};ko.observableArray.fn.getSelectedText=function(n){return this._getSelectedField("text",n)};TeG.KOValidate={ERROR_MESSAGE:"Validation error",enableError:function(n,t){n.visible(!0);n.text(t);n.css(!0)},disableError:function(n){n.visible(!1);n.text("");n.css(!1)},isIncorrectDate:function(){function t(n){var t,i;return/^\d{2}-\d{2}-\d{4}$/.test(n)?(t=n.split("-").map(Number),1>t[1]||t[1]>12)?!1:(i=new Date(t[2],t[1],0).getDate(),t[0]>i)?!1:!0:/^\d{2}-\d{4}$/.test(n)?(t=n.split("-").map(Number),1>t[0]||t[0]>12)?!1:!0:!1}var n=this,i=function(){var i=!1;if(t(n.fromDate())||(TeG.KOValidate.enableError(n.fromDateErrorData,TeG.Translations.ReportDateEmpty),i=!0),t(n.toDate())||(TeG.KOValidate.enableError(n.toDateErrorData,TeG.Translations.ReportDateEmpty),i=!0),i)throw TeG.KOValidate.ERROR_MESSAGE;};n.fromDate.validateFn.push(i);n.toDate.validateFn.push(i)},fromDateExcess:function(){var n=this,t=function(){if(n.getFromDate()>n.getToDate()){TeG.KOValidate.enableError(n.toDateErrorData,TeG.Translations.ErrorMessageStartDateMustPrecedeEndDate);throw TeG.KOValidate.ERROR_MESSAGE;}else TeG.KOValidate.disableError(n.toDateErrorData)};n.fromDate.validateFn.push(t);n.toDate.validateFn.push(t)},day62:function(n){var t=this,i=function(){var i,r,u;if(typeof n=="undefined"||n()=="Day")if(i=new Date(t.getFromDate()),r=new Date(t.getToDate()),i.setDate(i.getDate()+62),i<r){u=TeG.Translations.ValidateInsertFieldInCorrectFormat.replace(/%%field_label%%/,TeG.Translations.ReportLabelToDate.replace(/\:$/,""));TeG.KOValidate.enableError(t.toDateErrorData,u);throw TeG.KOValidate.ERROR_MESSAGE;}else TeG.KOValidate.disableError(t.toDateErrorData);else TeG.KOValidate.disableError(t.toDateErrorData)};t.fromDate.validateFn.push(i);t.toDate.validateFn.push(i)}};ko.observableArray.fn.getSelectedValue=function(n){return this._getSelectedField("value",n)}