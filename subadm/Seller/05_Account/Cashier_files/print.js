var TeG=TeG||{};TeG.Print=function(n){var t={"true":"/Images/ic_progressive_sml.png","2":"/Images/ic_progressive_sml.png","3":"/Images/ic_progressive_sml.png","4":"/Images/ic_progressive_sml.png","6":"/Images/ic_progressive_progress.png","7":"/Images/ic_progressive_progress.png"};return{configure:{PlayersGrid:{fields:{AccountNo:{},CreatedDate:{},FirstName:{},LastName:{},MobilePhoneNumber:{},ProfileName:{"class":"profileWrap"},BalanceHtml:{position:"right"},StatusHtml:{},IsProgressive:{},Email:{},CustomerGroupName:{}},title:"PlayersList",rowDataCriteria:".k-master-row"},StationsGrid:{fields:{AccountNo:{},CreatedDate:{},NickName:{},BalanceHtml:{position:"right"},StatusHtml:{},IsProgressive:{},ProfileName:{"class":"profileWrap"},CustomerGroupName:{}},title:"StationsList",rowDataCriteria:".k-master-row"},RepresentativesGrid:{fields:{LoginName:{},FirstName:{},LastName:{},Location:{},MobilePhoneNumber:{},Email:{},RepresentativeType:{},StatusHtml:{}},title:"CashierList",rowDataCriteria:".k-master-row"},RemovePlayersGridContainer:{fields:{AccountNo:{},FirstName:{},LastName:{},StatusHtml:{}},title:"RemovePlayers",rowDataCriteria:'tr[role="row"]'},RemoveStationListGrid:{fields:{AccountNo:{},NickName:{}},title:"RemoveStations",rowDataCriteria:'tr[role="row"]'},StationsPasswords:{fields:{AccountNo:{},NickName:{},PinCode:{}},title:"StationsPasswords",rowDataCriteria:".k-master-row"},RepresentativesPasswordsGrid:{fields:{LoginName:{},FirstName:{},LastName:{},Password:{},Location:{}},title:"View Passwords",rowDataCriteria:'tr[role="row"]'},divReportCasinoEarningGrid1Grid:{fields:{Date:{},Currency:{},DepositAmount:{position:"right"},WithdrawalAmount:{position:"right"},NetCash:{position:"right"},CustomerType:{},Customer:{},ReceiptNumber:{},PCA:{position:"right"},NetCashAfterPCA:{position:"right"}},rowDataCriteria:'tr[role="row"]'},NewStationsGrid:{fields:{CustomerAccountNumber:{},NickName:{},Password:{},BalanceWithCurrency:{position:"right"},CreditBalance:{position:"right"}},title:"NewStations",rowDataCriteria:'tr[role="row"]'},ReportCreditTransferGrid1Grid:{fields:{TransferDate:{},Currency:{},TransactionType:{},BalanceChange:{position:"right"},TransferBy:{},FromTo:{},AccountNo:{},Balance:{position:"right"},ReceiptNumber:{}},rowDataCriteria:'tr[role="row"]'},divReportCommissionGrid1Grid:{fields:{FromDate:{},ToDate:{},Currency:{},CommissionType:{},CommissionAmount:{position:"right"}},rowDataCriteria:'tr[role="row"]'}},ConfigureReportTitle:{CasinoEarning:{fields:{customerType:{},fromDate:{},toDate:{},groupingType:{},timezoneType:{}}},CreditTransfer:{fields:{fromDate:{},toDate:{},transactionType:{},groupingType:{}}},Commission:{fields:{fromDate:{},toDate:{}}}},Storage:function(){var r=[],t={header:[],positions:[],"class":[],body:[],title:this.configure[n].title,fields:[]},i=this.configure[n].fields;return $("#"+n).find(".k-grid-header .k-header").each(function(n){i[$(this).attr("data-field")]&&$(this).css("display")!="none"&&(t.header.push($(this).html().replace(/(\<.*?\>)/g,"")),t.positions.push(i[$(this).attr("data-field")].position?i[$(this).attr("data-field")].position:"left"),t.class.push(i[$(this).attr("data-field")].class?i[$(this).attr("data-field")].class:""),t.fields.push($(this).attr("data-field")),r.push(n))}),$("#"+n).find(this.configure[n].rowDataCriteria).each(function(){var i=[],n;for(n in r)$(this).find("td").eq(r[n]).length>0&&i.push($(this).find("td").eq(r[n]).html().replace(/(\<\/?d.*?\>)/g,""));t.body.push(i)}),localStorage.setItem("printData",JSON.stringify(t)),this},Open:function(n){n?window.open(n,"_blank"):window.open(tegUrlHelper.printList,"_blank")},StorageReportTitle:function(n,t,i){var u={request:[],summary:[]},r,f;for(key in TeG.Print().ConfigureReportTitle[n].fields)r="",t&&t[key]?r=t[key]:$('[name="'+key+'"]').get(0).tagName=="input"||$('[name="'+key+'"]').get(0).tagName=="INPUT"?r=$('[name="'+key+'"]').attr("type")=="radio"?$('[name="'+key+'"]:checked').val():$('[name="'+key+'"]').val():($('[name="'+key+'"]').get(0).tagName=="select"||$('[name="'+key+'"]').get(0).tagName=="SELECT")&&(r=$('[name="'+key+'"] option:checked').html()),u.request.push({label:$('label[for="'+key+'"]').html(),value:r,key:key});return $("#select-subordinates").index()!=-1&&$("#select-subordinates").is(":visible")&&(subordinates={},subordinates.visible=!0,subordinates.label=$('label[for="select-subordinates"]').html(),subordinates.value=[],$("#select-subordinates").find("div").each(function(){$(this).hasClass("selected")&&subordinates.value.push({name:$(this).html()})}),u.request.push({subordinates:{key:"subordinates",label:subordinates.label,value:subordinates.value}})),f=i?i.find("dl"):$("#reportSummaryData").find("dl"),$.each(f,function(n,t){u.summary.push({dt:$(t).find("dt").eq(0).html(),dd:$(t).find("dd").eq(0).val()?$(t).find("dd").eq(0).val():$(t).find("dd").eq(0).html()})}),localStorage.setItem("printReportData",JSON.stringify(u)),this},ParseGrid:function(){for(var t=JSON.parse(localStorage.getItem("printData")),u="<tr>",r,i,n=0;n<t.header.length;n++)u+='<th align="left">'+t.header[n]+"<\/th>";for(u+="<\/tr>",r="",n=0;n<t.body.length;n++){for(r+="<tr>",i=0;i<t.body[n].length;i++)r+="<td align='"+t.positions[i]+"' class='"+t.class[i]+"'>"+t.body[n][i]+"<\/td>";r+="<\/tr>"}$("#tbPrint").html(u+r);$("#printTitle").html(t.title)},PrintGrid:function(){this._title=null;this._grid=null;this.setGrid=function(n){this._grid=n};this.getGrid=function(){return this._grid};this.setTitle=function(n){this._title=n};this.getTitle=function(){return this._title};this._storePrepare=function(){return printData={},printData.gridTitle=this.getTitle(),this.getGrid()&&(printData.columns=this.getGrid().columns,printData.data=this.getGrid().dataSource.data(),printData.fields=this.getGrid().dataSource.options.schema.model.fields),printData};this.store=function(){return sessionStorage.setItem("printDataGrid",JSON.stringify(this._storePrepare())),this};this.storeAdd=function(){var n=[];return n.push(JSON.parse(sessionStorage.getItem("printDataGrid"))),n.push(this._storePrepare()),sessionStorage.setItem("printDataGrid",JSON.stringify(n)),this};this.storeTitle=function(){};this.open=function(){printWindow=window.open(tegUrlHelper.printGrid,"_blank");printWindow.focus()};this.openReport=function(){printWindow=window.open(tegUrlHelper.printReport,"_blank");printWindow.focus()};this.renderToPrint=function(){var f,n,e,o,r,i,s,u,c,l,h;window.printData=JSON.parse(sessionStorage.getItem("printDataGrid"));$.isArray(printData)||(printData=[printData]);for(f in printData){if($("#js-grid").append('<h2 id="printTitle'+f+'"><\/h2><br /><table id="tbPrint'+f+'"><\/table>'),n=printData[f],n.data&&n.data.length!=0&&$("#reportRequest").index()==-1&&$("#printTitle"+f).html("<br/>"+n.gridTitle),e="",e+="<tr>",n.columns)for(r=0;r<n.columns.length;r++)n.columns[r].attributes=n.columns[r].attributes||{},n.columns[r].attributes.class=n.columns[r].attributes.class||"",n.columns[r].hidden||n.columns[r].attributes.class=="fake-column"||(e+='<th align="left">'+n.columns[r].title+"<\/th>");if(e+="<\/tr>",o="",n.data)for(r=0;r<n.data.length;r++){for(o+="<tr>",i=0;i<n.columns.length;i++)n.columns[i].attributes=n.columns[i].attributes||{},n.columns[i].attributes.class=n.columns[i].attributes.class||"",n.columns[i].attributes.name=n.columns[i].attributes.name||"",n.columns[i].hidden||n.columns[i].attributes.class=="fake-column"||(s="left",n.fields[[n.columns[i].field]].type&&n.fields[[n.columns[i].field]].type=="number"&&(s="center"),u="",n.data[r][n.columns[i].field]||n.data[r][n.columns[i].field]==0||(n.data[r][n.columns[i].field]=""),typeof n.data[r][n.columns[i].field]!="undefined"&&(typeof n.columns[i].template!="undefined"?(c=$.extend({data:n.data[r]},n.data[r]),l=kendo.template(n.columns[i].template),u=l(c),/^\s*\<.*?\>\s*null\s*\<\/.*?\>\s*$/.test(u)&&(u="")):u=n.columns[i].format?/\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}\.\d{2}/.test(n.data[r][n.columns[i].field])?kendo.format(n.columns[i].format,new Date(n.data[r][n.columns[i].field])):kendo.format(n.columns[i].format,n.data[r][n.columns[i].field]):n.data[r][n.columns[i].field]),h="",n.columns[i].attributes.class!=""&&(h+=' class="'+n.columns[i].attributes.class+'"'),u+=n.columns[i].field=="ProgressiveStatusId"&&n.data[r].ProgressiveStatusId in t?'<div style="text-align:center"><img src="'+t[n.data[r].ProgressiveStatusId]+'"><\/img><\/div>':'<div style="text-align:center"><\/div>',o+='<td align="'+s+'"'+h+">"+u+"<\/td>");o+="<\/tr>"}$("#tbPrint"+f).html(e+o)}};this.renderReportRequest=function(){var n=JSON.parse(sessionStorage.getItem("printReportTitle"));ko.applyBindings(n,$("#reportRequest").get(0));ko.applyBindings(n,$("#summaryTitle").get(0))};this.renderReportSummary=function(){var n={summary:JSON.parse(sessionStorage.getItem("printReportSummaryData"))};n.summary&&ko.applyBindings(n,$("#reportSummaryData").get(0))}}}};TeG.Print.REPORT_SUMMARY_NOT_VISIBLE=!0;TeG.Print.REPORT_SUMMARY_DATA_NOT_VISIBLE=!0;TeG.PrintReceipt=function(n){return{Open:function(){localStorage.setItem("printReceiptData",JSON.stringify(n));window.open(tegUrlHelper.printReceipt,"_blank")}}};TeG.defaultKendoPrintGrid=function(){var n=$("#reportGridData"),t="",i=window.open("","","width=800, height=500"),r=i.document.open(),e="<h1>"+$("#gridToolBarContentName").html()+"<\/h1>",o='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Kendo UI Grid<\/title><link href="/Content/kendo/'+kendo.version+'/kendo.common.min.css" rel="stylesheet" /> <style>html { font: 11pt sans-serif; }.k-grid { border-top-width: 0; }.k-grid, .k-grid-content { height: auto !important; }.k-grid-content { overflow: visible !important; }div.k-grid table { table-layout: auto; width: 100% !important; }.k-grid .k-grid-header th { border-top: 1px solid; }.k-grid-toolbar, .k-grid-pager > .k-link { display: none; }<\/style><\/head><body>',u=n.children(".k-grid-header"),f;u[0]?(f=u.find("thead").clone().addClass("k-grid-header"),t=n.clone().children(".k-grid-header").remove().end().children(".k-grid-content").find("table").first().children("tbody").before(f).end().end().end().end()[0].outerHTML):t=n.clone()[0].outerHTML;r.write(o+e+t+"<\/body><\/html>");r.close();i.print()}