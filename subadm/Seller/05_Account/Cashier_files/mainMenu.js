function splitterToggleCollapse(){var t=$("#MainSplitter").data("kendoSplitter"),n=$("#menu-pane");t.toggle(n,n.width()<=0)}function splitterCollapse(){var n=$(".menu-collapsible-tab");n.removeClass("menu-collapse");n.addClass("menu-expand")}function splitterExpand(){var n=$(".menu-collapsible-tab");n.removeClass("menu-expand");n.addClass("menu-collapse")}function menuTabPosition(){$(".menu-collapsible-tab.menu-collapse").css("margin-left",$("#menu-pane").width()-$(".menu-collapsible-tab").width()+1);$(".menu-collapsible-tab.menu-expand").css("margin-left",0)}function collapseMenuOnScroll(){typeof $(".k-grid-content").get(0)!="undefined"&&collapsed==!1&&($(".k-grid-content").get(0).scrollWidth>$(".k-grid-content").width()&&$(".menu-collapsible-tab").hasClass("menu-collapse")&&$(".menu-collapsible-tab").click(),collapsed=!0)}var TeG=TeG||{},collapsed;TeG.MainMenu=function(){function f(n){var t=window.location.toString().split("/");return n+"&currentController="+t[t.length-2]+"&currentAction="+t[t.length-1]}function e(t){var i=$(t.item),l=i.closest(".k-panelbar"),u=this.options.dataSource,h=i.parentsUntil(l,".k-item").map(function(){return $(this).index()}).get().reverse(),s,c,f;for(h.push(i.index()),s=-1,c=h.length;++s<c;)u=u[h[s]],u=s<c-1?u.items:u;localStorage[u.id]=JSON.stringify(!0);f=$("#"+l[0].id).data("kendoPanelBar");f.select(".menuItemSelected");$('li[role="menuitem"] > ul > li[role="menuitem"] > span').removeClass("k-state-selected");$(".menuItemUnSelected").removeClass("k-state-highlighted k-state-active");$(".menuItemUnSelected > span").removeClass("k-state-focused k-state-selected");var e=i.find("li"),r=i.find(".menuItemSelected").parent().parent(),o=r.children().eq(1);if(i.hasClass("k-state-highlighted")&&e.hasClass("menuItemSelected")&&o.css("display")=="none"&&f.select(r),i.parent().attr("id")=="mainMenu"){var e=$(".k-state-highlight").find("li"),r=$(".k-state-highlight").find(".menuItemSelected").parent().parent(),o=r.children().eq(1);e.hasClass("menuItemSelected")&&o.css("display")=="none"&&f.select(r)}if(i.parent().parent().hasClass("menuItemSelected")){var e=$(".k-state-highlight").find("li"),r=$(".k-state-highlight").find(".menuItemSelected").parent().parent(),o=r.children().eq(1);e.hasClass("menuItemSelected")&&o.css("display")=="none"&&(f.select(r),n())}i.children().eq(0).hasClass("k-state-selected")&&f.select(".menuItemSelected")}function o(t){var i=$(t.item),l=i.closest(".k-panelbar"),r=this.options.dataSource,s=i.parentsUntil(l,".k-item").map(function(){return $(this).index()}).get().reverse(),o,h,f,a,u;for(s.push(i.index()),o=-1,h=s.length;++o<h;)r=r[s[o]],r=o<h-1?r.items:r;if(localStorage[r.id]=JSON.stringify(!1),f=$("#"+l[0].id).data("kendoPanelBar"),f.select(".menuItemSelected"),$(".menuItemUnSelected").removeClass("k-state-highlighted k-state-active"),$(".menuItemUnSelected > span").removeClass("k-state-focused k-state-selected"),a=i.parent().parent(),u=i.find("li"),a.hasClass("menuItemSelected")&&u.hasClass("menuItemSelected")&&f.select(i),n(),i.parent().attr("id")=="mainMenu"){var u=$(".k-state-highlighted").find("li"),e=$(".k-state-highlighted").find(".menuItemSelected").parent().parent(),c=e.children().eq(1);u.hasClass("menuItemSelected")&&c.css("display")=="none"&&f.select(e)}if(i.parent().parent().hasClass("menuItemSelected")){var u=$(".k-state-highlighted").find("li"),e=$(".k-state-highlighted").find(".menuItemSelected").parent().parent(),c=e.children().eq(1);u.hasClass("menuItemSelected")&&c.css("display")=="none"&&f.select(e)}}function t(n){var r,i;if(localStorage[n.id]!=null&&(r=JSON.parse(localStorage[n.id])),n.expanded=r==null?!0:r,n.items!=null&&n.items.length>0)for(i=0;i<n.items.length;i++)t(n.items[i])}function n(){var n=$('a[href$="'+location.pathname+'"]').parents("ul"),t;n.is(":hidden")&&(t=n.parent().find("> span.k-link"),t.addClass("k-state-selected"))}var i=tegUrlHelper.GetMenuStructure+"?menuType=Main",s=tegUrlHelper.GetMenuStructure+"?menuType=Options",r=!1,u=!1;$(document).ready(function(){$.ajax({url:f(i),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(i){for(var u,r=0;r<i.length;r++)t(i[r]);u=$("#mainMenu").kendoPanelBar({dataSource:i,expand:e,collapse:o}).data("kendoPanelBar");u.select(".menuItemSelected");$("#lang_selector_menu").css("display","block");$('[href="/'+culture+'/Members/UpdateLoginPassword"]').attr("href","#").on("click",function(){return tegPopups.changePassword().show(),!1}).attr("id","changePassword");$('a[href="/'+culture+'/Common/DefaultListView"]').attr("href","#").on("click",function(){$(window.sessionStorage).each(function(){for(prop in this)prop.indexOf("grid_options")!=-1&&sessionStorage.removeItem(prop)});sessionStorage&&sessionStorage.removeItem("gridColumnsState");window.location.href="/"+culture+"/Common/DefaultListView"});n()});$("#lang_list_wrp ul>li>a").on("click",function(){TeG.Utils().setLanguageCookie($(this).attr("data-lang"))});if(TeG.isMobile()){$("#action_menu_icon, #gridActionToolBar").on("click",function(){$("#gridActionToolBar").hasClass("open")?($("#gridActionToolBar").hide(),$("#gridActionToolBar").removeClass("open"),$("#action_menu_icon .icon").addClass("arrow-down"),$("#action_menu_icon .icon").removeClass("arrow-up")):($("#gridSearchToolBar").hasClass("open")&&$("#search_icon").trigger("click"),$("#gridActionToolBar").show(),$("#gridActionToolBar").addClass("open"),$("#action_menu_icon .icon").addClass("arrow-up"),$("#action_menu_icon .icon").removeClass("arrow-down"))});$("#search_icon").on("click",function(){$("#gridSearchToolBar").hasClass("open")?($("#gridSearchToolBar").hide(),$("#gridSearchToolBar").removeClass("open")):($("#gridActionToolBar").hasClass("open")&&$("#action_menu_icon").trigger("click"),$("#gridSearchToolBar").show(),$(".globalSearchInput").focus(),$("#gridSearchToolBar").addClass("open"))});var h=237,r=400,u=$("body"),c=$("#body-pane"),s=$("#menu-pane"),v="-"+h+"px",l=h+"px";$(".mobile-menu").on("click",function(){u.hasClass("openmenu")?a("close"):a("open")});function a(n){n=="open"&&(u.addClass("openmenu"),s.show(),c.animate({marginRight:v,marginLeft:l},r),s.animate({width:l},r));n=="close"&&(u.removeClass("openmenu"),c.animate({marginRight:"0",marginLeft:"0"},r),s.animate({width:"0"},r))}}})};collapsed=!1;$(document).ready(function(){var n=$(".menu-collapsible-tab");n.on("click",function(){splitterToggleCollapse();$(this).toggleClass("menu-collapse menu-expand");menuTabPosition();$(".empty-table-part").length>0&&$("td.fake-column").length>0&&$(".empty-table-part").width($("td.fake-column").outerWidth())})})