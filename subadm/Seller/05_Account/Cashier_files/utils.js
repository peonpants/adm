var TeG=TeG||{};TeG.Utils=function(){return{isNotAllowedNegativeNumKey:function(n,t){var i=n.keyCode||n.which;return i==45?/^\-?\d*?\.?\d{0,2}$/.test(t+"-")?!1:!0:this.isNotAllowedNumericKey(n,t)},isNotAllowedNumericKey:function(n,t){var i=n.keyCode||n.which;return n.charCode?n.charCode&&n.charCode==13?!1:i==46&&/\./.test(t)?!0:(i>=48&&i<=57||i==46)?!1:!0:!1},isNotPositiveInteger:function(n){var t=n.keyCode||n.which;return n.charCode?n.charCode&&n.charCode==13?!1:(t>=48&&t<=57)?void 0:!0:!1},loadScript:function(n){var i=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript";t.src=n;i.appendChild(t);alert("script added")},getDateTimeFromInfoBlock:function(){var r=$("#currentDate").html().replace(/(\d{1,2})\.(\d{1,2})\.(\d{4})/,"$1"),n,u,t,i;return/^\d{1}$/.test(r)&&(r="0"+r),n=$("#currentDate").html().replace(/(\d{1,2}\.(\d{1,2})\.(\d{4}))/,"$2"),/^\d{1}$/.test(n)&&(n="0"+n),u=$("#currentDate").html().replace(/(\d{1,2}\.(\d{1,2})\.(\d{4}))/,"$3"),t=$("#infoBlockClock").html().replace(/(\d{1,2})\:(\d{1,2})/,"$1"),/^\d{1}$/.test(t)&&(t="0"+t),i=$("#infoBlockClock").html().replace(/(\d{1,2})\:(\d{1,2})/,"$2"),/^\d{1}$/.test(i)&&(i="0"+i),sec=(new Date).getSeconds(),/^\d{1}$/.test(sec)&&(sec="0"+sec),r+"-"+n+"-"+u+" "+t+":"+i+":"+sec},formatDate:function(n){var t=("0"+n.getDate()).replace(/.*?(\d{2})$/,"$1"),i=("0"+(n.getMonth()+1)).replace(/.*?(\d{2})$/,"$1"),r=n.getFullYear(),u=("0"+n.getHours()).replace(/.*?(\d{2})$/,"$1"),f=("0"+n.getMinutes()).replace(/.*?(\d{2})$/,"$1"),e=("0"+n.getSeconds()).replace(/.*?(\d{2})$/,"$1");return t+"-"+i+"-"+r+" "+u+":"+f+":"+e},formatDateTime:function(n,t,i){return t=t.replace(/\D/,""),/^\d{1}$/.test(t)&&(t="0"+t),i=i.replace(/\D/,""),/^\d{1}$/.test(i)&&(i="0"+i),""+n+" "+t+":"+i},convertReportDate:function(n){return n.replace(/(\d{2})-(\d{2})-(\d{4})/,"$3-$2-$1")},convertReportDateTime:function(n,t,i,r){var e=n.replace(/(\d{2})-(\d{2})-(\d{4})/,"$3"),u=Number(n.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2")),f,o;return u=/^\d{1}$/.test(""+u)?"0"+u:""+u,f=n.replace(/(\d{2})-(\d{2})-(\d{4})/,"$1"),/^\d{1}$/.test(t)&&(t="0"+t),/^\d{1}$/.test(i)&&(i="0"+i),r?e+"-"+u+"-"+f+"T"+t+":"+i+":"+r:e+"-"+u+"-"+f+"T"+t+":"+i+":00.000"},setTypeIcons:function(n,t){for(var r=t.dataSource.data(),i=0;i<r.length;i++)$.trim(r[i][n])=="Station Transaction"||$.trim(r[i][n])=="Station"?r[i].set(n,'<img src = "/Images/icStation.png" data-transactionType="StationTransaction" title="Station">'):$.trim(r[i][n])=="Player Transaction"||$.trim(r[i][n])=="Player"?r[i].set(n,'<img src = "/Images/icPlayer.png" data-transactionType="PlayerTransaction" title="Player">'):$.trim(r[i][n])=="Agent"?r[i].set(n,'<img src = "/Images/icAgent.png" title="Agent">'):$.trim(r[i][n])=="Master Agent transaction"||$.trim(r[i][n])=="Master Agent"?r[i].set(n,'<img src = "/Images/icMasterAgent.png" data-transactionType="MasterAgentTransaction" />'):($.trim(r[i][n])=="Head Office transaction"||$.trim(r[i][n])=="Head Office")&&$(value).html('<img src = "/Images/icHeadOffice.png" data-transactionType="Head Office transaction" />')},searchBehaivor:function(n,t,i){function r(){var t=$(".k-widget.k-grid"),i,u,n,r;if(t&&t.length>0){i=0;do t.eq(i).is(":visible")&&(u=t.eq(i).attr("id")),i++;while(t.eq(i).length>0)}if(!u)return null;if(n=$("#"+u).data("kendoGrid"),n&&n.dataSource&&n.dataSource._filter&&n.dataSource._filter.filters)r=n.dataSource._filter.filters;else return null;for(key in r)if(r[key].field=="GlobalSearchCondition"&&r[key].operator=="contains")return r[key].value;return null}n.off();n.on("focus",function(){$(this).attr("background","url(../Images/searchYellow.png) no-repeat;");$(this).val()==TeG.Translations.GridPanelSearch&&($(this).val(""),$(this).removeClass("globalSearchInputDefault"))});n.on("blur",function(){$(this).attr("background","url(../Images/search.png) no-repeat;");$.trim($(this).val())==""&&($(this).val(TeG.Translations.GridPanelSearch),$(this).addClass("globalSearchInputDefault"));existedGridFilter=r();existedGridFilter&&($(this).val(existedGridFilter),$("#cancelSearch").css("display","block"),!$.browser.safari||TeG.isMobile()||TeG.isIPad()||$("#cancelSearch").css("left","170px"))});n.on("keydown",function(n){var i=n.which||n.keyCode;i==13&&typeof t=="function"&&t()});n.on("keyup",function(){var n=$.trim($(this).val());n!=""&&n!=TeG.Translations.GridPanelSearch?($("#cancelSearch").css("display","block"),!$.browser.safari||TeG.isMobile()||TeG.isIPad()||$("#cancelSearch").css("left","170px")):$("#cancelSearch").css("display","none")});if(!i)var i=$("#cancelSearch");$.trim(n.val())!=""&&$.trim(n.val())!=TeG.Translations.GridPanelSearch&&($("#cancelSearch").css("display","block"),!$.browser.safari||TeG.isMobile()||TeG.isIPad()||$("#cancelSearch").css("left","170px"));i.on("click",{searchElem:n},function(n){$(this).hide();n.data.searchElem.val("").focus();t()})},findGridDataObject:function(n,t,i){data_arr=$("#"+n).data("kendoGrid")._data;for(key in data_arr)if(data_arr[key][t]==i)return data_arr[key];return null},restrictExcellExport:function(n){var t=$("#"+n).data("kendoGrid")||$("div[data-role='grid']").data("kendoGrid");return t.dataSource._total>5e4?(errorPopup=new tegPopups.error,tegPopups.showTotalHover(),errorPopup.CloseButtonHandler=function(){tegPopups.closeTotalHover()},errorPopup.show("Error","You cann't export more than 50'000 records."),!0):!1},setLanguageCookie:function(n){var i,t,r;n||(n=window.location.toString().replace(/^(?:http:|https:|)(?:\/{2})?.*?\/(.{2}).*$/,"$1"),n=n?n:"en");i=730;t=new Date;t.setTime(t.getTime()+i*864e5);r="; expires="+t.toGMTString();document.cookie="language="+n+r+"; path=/"},setCookie:function(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/"},getCookie:function(n){var t=document.cookie.split(n+"=");if(t.length==2)return t.pop().split(";").shift()},status:["unknown","open","lock","masterlock","removed","pendingdeletion","masterloginlocked","active","inactive","networklock","networksuspend","networklockforsuspend","networkopen"],getSubordinateStatus:function(n){return TeG.Utils().status[n]},makeErrorObj:function(n){var t={};return t.responseText={},t.responseText.ExceptionName=n.FailureReason,t.responseText.ReferenceNumber="",t.responseText.isNeedTranslation=!1,t.responseText=JSON.stringify(t.responseText),t},customSelectBehaivor:function(){$(".div-as-select-key").find("input").on("focus",{that:this},function(){$(this).parent().parent().addClass("focused")});$(".div-as-select-key").find("input").on("blur",{that:this},function(){$(this).parent().parent().removeClass("focused")});$(".div-as-select-key").on("keyup",{that:this},function(n){function o(n){var t=i.eq(n).prevAll().length*(i.eq(0).outerHeight()+3);i.eq(n).parent().get(0).scrollTop=t;i.eq(n).find("input").focus();i.eq(n).find("input").click();i.eq(n).parent().addClass("focused");return}var r=String.fromCharCode(n.keyCode),t;if(r.match(/\w/)){typeof multi_select_cache_search_string=="undefined"&&(multi_select_cache_search_string="");multi_select_cache_search_string+=r.toLowerCase();setTimeout(function(){delete multi_select_cache_search_string},500);var u=new RegExp("^"+multi_select_cache_search_string),f=n.target,i=$(f).parent().parent().find("div"),e=$(f).closest("div").prevAll().length;for(t=e+1;t<i.length;t++)if(u.test(i.eq(t).find("input").val().toLowerCase())){o(t);return}for(t=0;t<e;t++)if(u.test(i.eq(t).find("input").val().toLowerCase())){o(t);return}}})}}};TeG.StaticHTML={get:function(n){return(TeG.StaticHTML.info[n]=TeG.StaticHTML.info[n]||{},TeG.StaticHTML.info[n].data)?(TeG.StaticHTML.info[n].inProgress=null,TeG.StaticHTML.info[n].error=null,TeG.StaticHTML.info[n]):TeG.StaticHTML.info[n].inProgress?TeG.StaticHTML.info[n]:(TeG.StaticHTML.info[n].inProgress=!0,$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",dataType:"html",error:function(t){tegErrorHandler.processError(t);TeG.StaticHTML.info[n].error=!0},success:function(t){TeG.StaticHTML.info[n].data=t.replace(/(.*?\r?\n?)*?(\<.*)/,"$2")}}),TeG.StaticHTML.info[n])},info:{}};TeG.Cache={store:{},set:function(n,t,i){var r={};r.timeCached_at=new Date;r.time=i;r.value=t;this.store[n]=r},get:function(n){if(!this.store[n])return!1;var t=this.store[n],i=new Date;return t.time&&i-t.timeCached_at>t.time?(delete this.store[n],!1):t.value}}